{% extends "base.html" %} {% block title %}View User{% endblock %} {% block
content %}
<h1>View User</h1>

<!-- User Information -->
<div class="card mb-4">
  <div class="card-header">
    <h5>User Information</h5>
  </div>
  <div class="card-body">
    <table class="table table-bordered">
      <tr>
        <th>Matricule</th>
        <td>{{ user.emp_id }}</td>
      </tr>
      <tr>
        <th>Name</th>
        <td>{{ user.first_name }} {{ user.last_name }}</td>
      </tr>
      <tr>
        <th>Service</th>
        <td>{{ user.service }}</td>
      </tr>
    </table>
    <a
      href="{{ url_for('auth.edit_user', user_id=user.id) }}"
      class="btn btn-warning"
      >Edit</a
    >
    <a href="{{ url_for('auth.manage_users') }}" class="btn btn-secondary"
      >Back to List</a
    >
  </div>
</div>

<!-- User's Attempted Quizzes -->
<div class="card">
  <div class="card-header">
    <h5>Attempted Quizzes</h5>
  </div>
  <div class="card-body">
    {% if attempts %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Quiz Title</th>
          <th>Score</th>
          <th>Status</th>
          <th>Attempt Date</th>
        </tr>
      </thead>
      <tbody>
        {% for attempt in attempts %}
        <tr>
          <td>{{ attempt.quiz_title }}</td>
          <td>{{ attempt.score }}</td>
          <td>{{ attempt.status }}</td>
          <td>{{ attempt.time.strftime('%Y-%m-%d %H:%M:%S') }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No quizzes attempted by this user.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
